<!DOCTYPE html>
<html>
<head>
    <title>Login Page</title>
    <!-- Update the version number as needed -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
      import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";

      const firebaseConfig = {
        apiKey: "AIzaSyB_XEM6x5YveXFN3wS2ORseyJTi8U2kEME",
        authDomain: "city-guide-app-d48a9.firebaseapp.com",
        projectId: "city-guide-app-d48a9",
        storageBucket: "city-guide-app-d48a9.appspot.com",
        messagingSenderId: "181799342059",
        appId: "1:181799342059:web:96dac38be767878b0693ae",
        measurementId: "G-XKSVWTR37T"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      // Function to handle user login
      window.loginUser = function() {
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        
        signInWithEmailAndPassword(auth, email, password)
          .then((userCredential) => {
            // Signed in 
            alert('User logged in successfully');
            const emailLocalPart = email.split('@')[0]; // Get the part of the email before the @
            window.location.href = `welcome.html?name=${encodeURIComponent(emailLocalPart)}`;
            // Redirect the user or update UI
          })
          .catch((error) => {
            
            const errorCode = error.code;
            const errorMessage = error.message;
            let userFriendlyMessage = '';
            if (errorCode === 'auth/invalid-login-credentials') {
              userFriendlyMessage = 'Invalid login credentials. Please try again.';
            } else {
              userFriendlyMessage = 'Login failed. Please try again later.';
            }
            alert('Error: ' + userFriendlyMessage);
          });
      }
    </script>
    <style>
      body {
          font-family: 'Arial', sans-serif;
          background: #E5F4FD; /* Light blue background */
          display: flex;
          justify-content: center;
          align-items: center;
          height: 100vh;
          margin: 0;
      }

      .login-container {
          background: #FFFFFF;
          border-radius: 10px;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
          width: 100%;
          max-width: 350px;
          padding: 20px;
          box-sizing: border-box;
      }

      .account-type div {
          text-align: center;
      }

      .login-form {
          margin-top: 20px;
      }

      input[type='email'],
      input[type='password'] {
          width: calc(100% - 20px);
          padding: 10px;
          margin-bottom: 10px;
          border-radius: 5px;
          border: 1px solid #CCCCCC;
          box-sizing: border-box;
      }

      button {
          width: 100%;
          padding: 10px;
          border: none;
          background-color: #007BFF;
          color: white;
          border-radius: 5px;
          cursor: pointer;
      }

      button:hover {
          background-color: #0056B3;
      }

      .login-footer {
          text-align: center;
          margin-top: 10px;
      }

      .login-footer a {
          color: #007BFF;
          text-decoration: none;
      }

      .login-footer a:hover {
          text-decoration: underline;
      }
  </style>
<body>
<div>City Guide</div>
  <div class="login-container">
      <div class="login-form">
          <input type="email" id="email" placeholder="Email">
          <input type="password" id="password" placeholder="Password">
          <div class="login-footer">
              <a href="#">Forgot?</a>
          </div>
          <button onclick="loginUser()">Login</button>
          <div class="login-footer">
              <p>No account? <a href="sign-up.html">Signup</a></p>
          </div>
      </div>
  </div>
</body>
</html>
